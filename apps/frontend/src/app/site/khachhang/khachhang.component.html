<mat-drawer-container class="example-container w-full h-full" autosize>
    <mat-drawer #drawer mode="over" class="!flex flex-col flex-auto min-w-0 relative h-full lg:w-2/3 w-full" position="end">
        <div class="relative flex flex-col h-full w-full overflow-auto">
            <router-outlet></router-outlet>
        </div>
    </mat-drawer>
    <mat-drawer-content class="!flex flex-col flex-auto min-w-0 relative bg-white !h-[90vh]">
          <div class="w-full flex flex-col bg-white rounded-lg p-8">
            <div class="flex flex-row space-x-2 items-center justify-between">
              <div>
                <button mat-icon-button (click)="openDialog(dialogTemplate);Detail = {}">
                  <span class="material-symbols-outlined text-blue-500">
                    add_circle
                  </span>
                </button>
              </div>
              <mat-form-field appearance="outline" class="w-full">
                <mat-label>Tiêu Đề</mat-label>
                <input type="text" #input matInput [placeholder]="'Tìm kiếm bài viết'" (input)="applyFilter($event)" />
              </mat-form-field>
            </div>
            <div class="w-full flex flex-col space-y-2">
              <div class="p-4 w-full">
                <div class="flex flex-col overflow-auto w-full p-4 rounded bg-white">
                    <table class="w-full" mat-table [dataSource]="dataSource" matSort>
                      <ng-container matColumnDef="TenKH">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Họ Tên </th>
                        <td mat-cell *matCellDef="let row" [routerLink]="row.SDT" (click)="drawer.open()">
                          <span class="text-blue-500 font-bold">{{row.TenKH}} </span>
                        </td>
                      </ng-container>
                      <ng-container matColumnDef="SDT">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Số Điện Thoại </th>
                        <td mat-cell *matCellDef="let row">
                          {{row.SDT}}
                        </td>
                      </ng-container>
                      <ng-container matColumnDef="Doanhso">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Doanh Số </th>
                        <td mat-cell *matCellDef="let row" class="text-right"> {{row.Doanhso|number:'1.0-2'}}</td>
                      </ng-container>
                      <ng-container matColumnDef="Dathu">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Doanh Thu </th>
                        <td mat-cell *matCellDef="let row" class="text-right"> {{row.Dathu|number:'1.0-2'}} </td>
                      </ng-container>
                      <ng-container matColumnDef="Congno">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Công Nợ </th>
                        <td mat-cell *matCellDef="let row" class="text-right"> {{row.Congno|number:'1.0-2'}} </td>
                      </ng-container>
                      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                      <tr class="mat-row" *matNoDataRow>
                        <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
                      </tr>
                    </table>
                    <div class="w-full border">
                      <mat-paginator class="w-full" [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
                    </div>
                </div>
              </div>
            </div>
          </div>
    </mat-drawer-content>
  </mat-drawer-container>
  <ng-template #dialogTemplate>
    <div class="min-w-[672px]">
    <div mat-dialog-title>Thêm Mới</div>
    <div mat-dialog-content>
        <div class="flex flex-col w-full space-y-4 p-4">
            <mat-form-field appearance="outline" class="w-full">
            <mat-label>Tiêu Đề</mat-label>
            <input matInput [(ngModel)]="Detail.Tieude" [ngModelOptions]="{standalone: true}" placeholder="Tiêu Đề">
            </mat-form-field>
            <mat-form-field appearance="outline" class="w-full">
            <mat-label>Oldlink</mat-label>
            <input matInput [(ngModel)]="Detail.Oldlink" [ngModelOptions]="{standalone: true}" placeholder="Oldlink">
            </mat-form-field>
            <mat-form-field appearance="outline" class="w-full">
            <mat-label>Newlink</mat-label>
            <input matInput [(ngModel)]="Detail.Newlink" [ngModelOptions]="{standalone: true}" placeholder="Newlink">
            </mat-form-field>
            </div>
    </div>
    <div mat-dialog-actions class="justify-center">
        <button mat-button class="bg-red-400 hover:bg-red-600 text-white" mat-dialog-close="false">Huỷ</button>
        <button mat-button class="bg-blue-400 hover:bg-blue-600 text-white" mat-dialog-close="true">Đồng Ý</button>
    </div>
  </div>
  </ng-template>


<ng-template #dialogTemplate>
  <div class="min-w-[375px]">
    <div mat-dialog-title>Thêm Mới</div>
    <div mat-dialog-content>
      <div class="flex flex-col w-full space-y-4 p-4">
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Họ Tên</mat-label>
          <input matInput [(ngModel)]="Detail.Hoten" [ngModelOptions]="{standalone: true}" placeholder="Tiêu Đề">
        </mat-form-field>

        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Số Điện Thoại</mat-label>
          <input matInput [(ngModel)]="Detail.SDT" [ngModelOptions]="{standalone: true}" placeholder="Số Điện Thoại">
        </mat-form-field>

        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Doanh Số</mat-label>
          <input matInput type="number" [(ngModel)]="Detail.Doanhso" [ngModelOptions]="{standalone: true}"
            placeholder="Doanh Số" (input)="TinhCongno()">
          <mat-hint>{{Detail.Doanhso|number:'1.0-2'}}</mat-hint>
        </mat-form-field>

        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Doanh Thu</mat-label>
          <input matInput type="number" [(ngModel)]="Detail.Doanhthu" [ngModelOptions]="{standalone: true}"
            placeholder="Doanh Thu" (input)="TinhCongno()">
          <mat-hint>{{Detail.Doanhthu|number:'1.0-2'}}</mat-hint>
        </mat-form-field>

        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Công Nợ</mat-label>
          <input matInput type="number" [(ngModel)]="Detail.Congno" [ngModelOptions]="{standalone: true}"
            placeholder="Công Nợ">
          <mat-hint>{{Detail.Congno|number:'1.0-2'}}</mat-hint>
        </mat-form-field>
      </div>
    </div>
    <div mat-dialog-actions class="justify-center">
      <button mat-button class="bg-red-400 hover:bg-red-600 text-white" mat-dialog-close="false">Huỷ</button>
      <button mat-button class="bg-blue-400 hover:bg-blue-600 text-white" mat-dialog-close="true">Đồng Ý</button>
    </div>
  </div>
</ng-template>

<ng-template #dialogEdit>
  <div class="min-w-[375px]">
    <div mat-dialog-title>Cập Nhật</div>
    <div mat-dialog-content>
      <div class="flex flex-col w-full space-y-4 p-4">
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Họ Tên</mat-label>
          <input matInput [(ngModel)]="Detail.Hoten" [ngModelOptions]="{standalone: true}" placeholder="Tiêu Đề">
        </mat-form-field>

        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Số Điện Thoại</mat-label>
          <input matInput [(ngModel)]="Detail.SDT" [ngModelOptions]="{standalone: true}" placeholder="Số Điện Thoại">
        </mat-form-field>

        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Doanh Số</mat-label>
          <input matInput type="number" [(ngModel)]="Detail.Doanhso" [ngModelOptions]="{standalone: true}"
            placeholder="Doanh Số" (input)="TinhCongno()">
          <mat-hint>{{Detail.Doanhso|number:'1.0-2'}}</mat-hint>
        </mat-form-field>

        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Doanh Thu</mat-label>
          <input matInput type="number" [(ngModel)]="Detail.Doanhthu" [ngModelOptions]="{standalone: true}"
            placeholder="Doanh Thu" (input)="TinhCongno()">
          <mat-hint>{{Detail.Doanhthu|number:'1.0-2'}}</mat-hint>
        </mat-form-field>
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Công Nợ</mat-label>
          <input matInput type="number" [(ngModel)]="Detail.Congno" [ngModelOptions]="{standalone: true}"
            placeholder="Công Nợ">
          <mat-hint>{{Detail.Congno|number:'1.0-2'}}</mat-hint>
        </mat-form-field>
      </div>
    </div>
    <div mat-dialog-actions class="justify-center">
      <button mat-button class="bg-red-400 hover:bg-red-600 text-white" mat-dialog-close="false">Huỷ</button>
      <button mat-button class="bg-blue-400 hover:bg-blue-600 text-white" mat-dialog-close="true">Cập Nhật</button>
    </div>
  </div>
</ng-template>